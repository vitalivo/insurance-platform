(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[571],{4479:function(e,s,l){Promise.resolve().then(l.bind(l,8022))},8022:function(e,s,l){"use strict";l.r(s),l.d(s,{default:function(){return h}});var t=l(7437),a=l(2265),r=l(8472);let d=l(357).env.REACT_APP_API_URL||"http://localhost:8000/api",i=r.Z.create({baseURL:d,headers:{"Content-Type":"application/json"}}),n={getByNumber:e=>i.get("/applications/".concat(e,"/"))};var c=l(7138),m=l(6463);function x(e){let{items:s}=e,l=(0,m.usePathname)(),a=(()=>{if(s)return s;let e=l.split("/").filter(e=>e),t=[{label:"Главная",href:"/"}],a="";return e.forEach((e,s)=>{a+="/".concat(e);let l=e;"products"===e?l="Продукты":"track"===e?l="Отслеживание":"test"===e?l="Тест API":"osago"===e?l="ОСАГО":"kasko"===e?l="КАСКО":"ifl"===e?l="Недвижимость":"ns"===e?l="Несчастный случай":"mortgage"===e?l="Ипотека":"klezh"===e&&(l="Клещ"),t.push({label:l.charAt(0).toUpperCase()+l.slice(1),href:a})}),t})();return a.length<=1?null:(0,t.jsx)("nav",{className:"bg-white border-b",children:(0,t.jsx)("div",{className:"max-w-7xl mx-auto px-4 sm:px-6 lg:px-8 py-3",children:(0,t.jsx)("ol",{className:"flex items-center space-x-2 text-sm",children:a.map((e,s)=>(0,t.jsxs)("li",{className:"flex items-center",children:[s>0&&(0,t.jsx)("svg",{className:"w-4 h-4 text-gray-400 mx-2",fill:"currentColor",viewBox:"0 0 20 20",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M7.293 14.707a1 1 0 010-1.414L10.586 10 7.293 6.707a1 1 0 011.414-1.414l4 4a1 1 0 010 1.414l-4 4a1 1 0 01-1.414 0z",clipRule:"evenodd"})}),s===a.length-1?(0,t.jsx)("span",{className:"text-gray-500 font-medium",children:e.label}):(0,t.jsx)(c.default,{href:e.href,className:"text-blue-600 hover:text-blue-800 transition-colors",children:e.label})]},e.href))})})})}function o(e){let{text:s="Загрузка...",size:l="md"}=e;return(0,t.jsxs)("div",{className:"flex flex-col items-center justify-center p-8",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full border-b-2 border-blue-600 ${sizeClasses[size]} mb-4"}),(0,t.jsx)("p",{className:"text-gray-600",children:s})]})}function h(){let[e,s]=(0,a.useState)(""),[l,r]=(0,a.useState)(null),[d,i]=(0,a.useState)(!1),[c,m]=(0,a.useState)(null),h=async s=>{if(s.preventDefault(),!e.trim()){m("Введите номер заявки");return}i(!0),m(null),r(null);try{let s=await n.getByNumber(e.trim());r(s.data)}catch(e){var l;(null===(l=e.response)||void 0===l?void 0:l.status)===404?m("Заявка с таким номером не найдена"):m("Ошибка при поиске заявки. Попробуйте еще раз."),console.error("Ошибка поиска заявки:",e)}finally{i(!1)}};return(0,t.jsxs)("div",{className:"min-h-screen bg-gray-50",children:[(0,t.jsx)(x,{}),(0,t.jsxs)("div",{className:"max-w-4xl mx-auto px-4 sm:px-6 lg:px-8 py-8",children:[(0,t.jsxs)("div",{className:"text-center mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-4",children:"Отслеживание заявки"}),(0,t.jsx)("p",{className:"text-lg text-gray-600",children:"Введите номер заявки для получения актуальной информации о статусе"})]}),(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:(0,t.jsxs)("form",{onSubmit:h,className:"flex gap-4",children:[(0,t.jsxs)("div",{className:"flex-1",children:[(0,t.jsx)("label",{htmlFor:"application_number",className:"block text-sm font-medium text-gray-700 mb-2",children:"Номер заявки"}),(0,t.jsx)("input",{type:"text",id:"application_number",value:e,onChange:e=>s(e.target.value),className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"APP-20250125123456",disabled:d})]}),(0,t.jsx)("div",{className:"flex items-end",children:(0,t.jsx)("button",{type:"submit",disabled:d,className:"bg-blue-600 text-white px-6 py-2 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:d?"Поиск...":"Найти"})})]})}),d&&(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-8",children:(0,t.jsx)(o,{text:"Поиск заявки..."})}),c&&(0,t.jsx)("div",{className:"bg-white rounded-lg shadow-md p-6 mb-8",children:(0,t.jsx)("div",{className:"bg-red-50 border border-red-200 rounded-md p-4",children:(0,t.jsxs)("div",{className:"flex",children:[(0,t.jsx)("div",{className:"flex-shrink-0",children:(0,t.jsx)("svg",{className:"h-5 w-5 text-red-400",viewBox:"0 0 20 20",fill:"currentColor",children:(0,t.jsx)("path",{fillRule:"evenodd",d:"M10 18a8 8 0 100-16 8 8 0 000 16zM8.707 7.293a1 1 0 00-1.414 1.414L8.586 10l-1.293 1.293a1 1 0 101.414 1.414L10 11.414l1.293 1.293a1 1 0 001.414-1.414L11.414 10l1.293-1.293a1 1 0 00-1.414-1.414L10 8.586 8.707 7.293z",clipRule:"evenodd"})})}),(0,t.jsxs)("div",{className:"ml-3",children:[(0,t.jsx)("h3",{className:"text-sm font-medium text-red-800",children:"Заявка не найдена"}),(0,t.jsx)("div",{className:"mt-2 text-sm text-red-700",children:(0,t.jsx)("p",{children:c})})]})]})})}),l&&(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-6",children:[(0,t.jsxs)("div",{className:"border-b border-gray-200 pb-6 mb-6",children:[(0,t.jsxs)("div",{className:"flex items-center justify-between",children:[(0,t.jsxs)("h2",{className:"text-2xl font-bold text-gray-900",children:["Заявка ",l.application_number]}),(0,t.jsx)("div",{className:"flex items-center",children:(0,t.jsxs)("span",{className:"inline-flex items-center px-3 py-1 rounded-full text-sm font-medium",style:{backgroundColor:l.status.color+"20",color:l.status.color},children:["● ",l.status.name]})})]}),(0,t.jsx)("p",{className:"text-gray-600 mt-2",children:l.status.description})]}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-2 gap-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Информация о продукте"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Продукт:"}),(0,t.jsx)("p",{className:"text-gray-900",children:l.product.display_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Описание:"}),(0,t.jsx)("p",{className:"text-gray-900",children:l.product.description})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Дата подачи:"}),(0,t.jsx)("p",{className:"text-gray-900",children:new Date(l.created_at).toLocaleString("ru-RU",{year:"numeric",month:"long",day:"numeric",hour:"2-digit",minute:"2-digit"})})]})]})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Контактная информация"}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"ФИО:"}),(0,t.jsx)("p",{className:"text-gray-900",children:l.full_name})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Телефон:"}),(0,t.jsx)("p",{className:"text-gray-900",children:l.phone})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Email:"}),(0,t.jsx)("p",{className:"text-gray-900",children:l.email})]}),l.comment&&(0,t.jsxs)("div",{children:[(0,t.jsx)("span",{className:"text-sm font-medium text-gray-500",children:"Комментарий:"}),(0,t.jsx)("p",{className:"text-gray-900",children:l.comment})]})]})]})]}),(0,t.jsx)("div",{className:"mt-8 pt-6 border-t border-gray-200",children:(0,t.jsxs)("div",{className:"bg-blue-50 rounded-lg p-4",children:[(0,t.jsx)("h4",{className:"text-sm font-medium text-blue-900 mb-2",children:"Что дальше?"}),(0,t.jsx)("p",{className:"text-sm text-blue-800",children:"Наши специалисты рассматривают вашу заявку. При необходимости мы свяжемся с вами по указанному телефону или email."})]})})]}),(0,t.jsxs)("div",{className:"mt-8 bg-white rounded-lg shadow-md p-6",children:[(0,t.jsx)("h3",{className:"text-lg font-semibold text-gray-900 mb-4",children:"Нужна помощь?"}),(0,t.jsxs)("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[(0,t.jsxs)("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCDE"}),(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Телефон"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"8 (800) 123-45-67"})]}),(0,t.jsxs)("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"✉️"}),(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Email"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"support@insurance.ru"})]}),(0,t.jsxs)("div",{className:"text-center p-4 border border-gray-200 rounded-lg",children:[(0,t.jsx)("div",{className:"text-2xl mb-2",children:"\uD83D\uDCAC"}),(0,t.jsx)("h4",{className:"font-medium text-gray-900 mb-1",children:"Чат"}),(0,t.jsx)("p",{className:"text-sm text-gray-600",children:"Онлайн поддержка"})]})]})]})]})]})}}},function(e){e.O(0,[231,806,971,23,744],function(){return e(e.s=4479)}),_N_E=e.O()}]);