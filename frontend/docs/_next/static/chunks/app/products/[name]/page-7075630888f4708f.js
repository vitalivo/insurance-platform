(self.webpackChunk_N_E=self.webpackChunk_N_E||[]).push([[316],{1561:function(e,s,a){Promise.resolve().then(a.bind(a,7270))},7270:function(e,s,a){"use strict";a.d(s,{default:function(){return o}});var t=a(7437),r=a(2265);let n={osago:{id:1,name:"osago",display_name:"ОСАГО",description:"Обязательное страхование автогражданской ответственности"},kasko:{id:2,name:"kasko",display_name:"КАСКО",description:"Добровольное страхование транспортных средств"},ifl:{id:3,name:"ifl",display_name:"Страхование жизни",description:"Индивидуальное страхование жизни"},ns:{id:4,name:"ns",display_name:"Накопительное страхование",description:"Накопительное страхование жизни"},mortgage:{id:5,name:"mortgage",display_name:"Ипотечное страхование",description:"Страхование при ипотечном кредитовании"},klezh:{id:6,name:"klezh",display_name:"Страхование недвижимости",description:"Комплексное страхование недвижимости"}},l={getProduct:async e=>{await new Promise(e=>setTimeout(e,500));let s=n[e];if(!s)throw Error("Product not found");return{data:s}},createApplication:async e=>(await new Promise(e=>setTimeout(e,1e3)),{data:{application_number:"DEMO-".concat(Date.now()),status:"pending"}})};function o(e){let{productName:s}=e,[a,n]=(0,r.useState)(null),[o,i]=(0,r.useState)(!0),[c,d]=(0,r.useState)(!1),[m,u]=(0,r.useState)(!1),[x,h]=(0,r.useState)(""),[p,b]=(0,r.useState)({full_name:"",phone:"",email:"",birth_date:"",comment:"",personal_data_consent:!1});(0,r.useEffect)(()=>{let e=async()=>{try{let e=await l.getProduct(s);n(e.data)}catch(e){console.error("Ошибка загрузки продукта:",e)}finally{i(!1)}};s&&e()},[s]);let f=async e=>{e.preventDefault(),d(!0);try{let e=await l.createApplication({product:a.id,...p});h(e.data.application_number),u(!0)}catch(e){console.error("Ошибка отправки заявки:",e),alert("Ошибка при отправке заявки. Попробуйте еще раз.")}finally{d(!1)}},g=e=>{let{name:s,value:a,type:t}=e.target;b(r=>({...r,[s]:"checkbox"===t?e.target.checked:a}))};return o?(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("div",{className:"animate-spin rounded-full h-12 w-12 border-b-2 border-blue-600 mx-auto mb-4"}),(0,t.jsx)("p",{children:"Загрузка продукта..."})]})}):a?m?(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 flex items-center justify-center",children:(0,t.jsxs)("div",{className:"max-w-md mx-auto bg-white p-8 rounded-lg shadow-md text-center",children:[(0,t.jsx)("div",{className:"w-16 h-16 bg-green-100 rounded-full flex items-center justify-center mx-auto mb-4",children:(0,t.jsx)("svg",{className:"w-8 h-8 text-green-600",fill:"none",stroke:"currentColor",viewBox:"0 0 24 24",children:(0,t.jsx)("path",{strokeLinecap:"round",strokeLinejoin:"round",strokeWidth:2,d:"M5 13l4 4L19 7"})})}),(0,t.jsx)("h2",{className:"text-2xl font-bold text-gray-900 mb-2",children:"Заявка отправлена!"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-4",children:["Ваша заявка на ",a.display_name," успешно принята к рассмотрению."]}),(0,t.jsxs)("div",{className:"bg-blue-50 p-4 rounded-lg mb-6",children:[(0,t.jsxs)("p",{className:"text-sm text-blue-800",children:[(0,t.jsx)("strong",{children:"Номер заявки:"})," ",x]}),(0,t.jsx)("p",{className:"text-xs text-blue-600 mt-1",children:"Сохраните этот номер для отслеживания статуса"}),(0,t.jsx)("p",{className:"text-xs text-orange-600 mt-2",children:"⚠️ Это демо-версия. Заявка не будет обработана."})]}),(0,t.jsxs)("div",{className:"space-y-3",children:[(0,t.jsx)("a",{href:"/",className:"block w-full bg-blue-600 text-white py-2 px-4 rounded-md hover:bg-blue-700 transition-colors",children:"Вернуться на главную"}),(0,t.jsx)("button",{onClick:()=>{u(!1),h(""),b({full_name:"",phone:"",email:"",birth_date:"",comment:"",personal_data_consent:!1})},className:"block w-full border border-gray-300 text-gray-700 py-2 px-4 rounded-md hover:bg-gray-50 transition-colors",children:"Подать еще одну заявку"})]})]})}):(0,t.jsx)("div",{className:"min-h-screen bg-gray-50 py-8",children:(0,t.jsxs)("div",{className:"max-w-2xl mx-auto px-4",children:[(0,t.jsx)("div",{className:"bg-orange-100 border border-orange-300 rounded-lg p-4 mb-6",children:(0,t.jsxs)("p",{className:"text-orange-800 text-sm",children:["\uD83D\uDE80 ",(0,t.jsx)("strong",{children:"Демо-версия"})," - Это демонстрационная версия сайта. Заявки не обрабатываются."]})}),(0,t.jsx)("div",{className:"mb-6",children:(0,t.jsx)("a",{href:"/",className:"text-blue-600 hover:underline text-sm",children:"← Вернуться к выбору продуктов"})}),(0,t.jsxs)("div",{className:"bg-white rounded-lg shadow-md p-8",children:[(0,t.jsxs)("div",{className:"mb-8",children:[(0,t.jsx)("h1",{className:"text-3xl font-bold text-gray-900 mb-2",children:a.display_name}),(0,t.jsx)("p",{className:"text-gray-600",children:a.description})]}),(0,t.jsxs)("form",{onSubmit:f,className:"space-y-6",children:[(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"full_name",className:"block text-sm font-medium text-gray-700 mb-2",children:["ФИО ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"text",id:"full_name",name:"full_name",required:!0,value:p.full_name,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Иванов Иван Иванович"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"phone",className:"block text-sm font-medium text-gray-700 mb-2",children:["Телефон ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"tel",id:"phone",name:"phone",required:!0,value:p.phone,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"+7 (900) 123-45-67"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700 mb-2",children:["Email ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"email",id:"email",name:"email",required:!0,value:p.email,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"ivan@example.com"})]}),(0,t.jsxs)("div",{children:[(0,t.jsxs)("label",{htmlFor:"birth_date",className:"block text-sm font-medium text-gray-700 mb-2",children:["Дата рождения ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]}),(0,t.jsx)("input",{type:"date",id:"birth_date",name:"birth_date",required:!0,value:p.birth_date,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent"})]}),(0,t.jsxs)("div",{children:[(0,t.jsx)("label",{htmlFor:"comment",className:"block text-sm font-medium text-gray-700 mb-2",children:"Комментарий"}),(0,t.jsx)("textarea",{id:"comment",name:"comment",rows:4,value:p.comment,onChange:g,className:"w-full px-3 py-2 border border-gray-300 rounded-md focus:outline-none focus:ring-2 focus:ring-blue-500 focus:border-transparent",placeholder:"Дополнительная информация или вопросы..."})]}),(0,t.jsxs)("div",{className:"flex items-start",children:[(0,t.jsx)("input",{type:"checkbox",id:"personal_data_consent",name:"personal_data_consent",required:!0,checked:p.personal_data_consent,onChange:g,className:"mt-1 h-4 w-4 text-blue-600 focus:ring-blue-500 border-gray-300 rounded"}),(0,t.jsxs)("label",{htmlFor:"personal_data_consent",className:"ml-2 text-sm text-gray-700",children:["Я согласен на обработку персональных данных ",(0,t.jsx)("span",{className:"text-red-500",children:"*"})]})]}),(0,t.jsxs)("div",{className:"flex gap-4",children:[(0,t.jsx)("button",{type:"submit",disabled:c,className:"flex-1 bg-blue-600 text-white py-3 px-6 rounded-md hover:bg-blue-700 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 disabled:opacity-50 disabled:cursor-not-allowed transition-colors",children:c?(0,t.jsxs)("span",{className:"flex items-center justify-center",children:[(0,t.jsxs)("svg",{className:"animate-spin -ml-1 mr-3 h-5 w-5 text-white",xmlns:"http://www.w3.org/2000/svg",fill:"none",viewBox:"0 0 24 24",children:[(0,t.jsx)("circle",{className:"opacity-25",cx:"12",cy:"12",r:"10",stroke:"currentColor",strokeWidth:"4"}),(0,t.jsx)("path",{className:"opacity-75",fill:"currentColor",d:"M4 12a8 8 0 018-8V0C5.373 0 0 5.373 0 12h4zm2 5.291A7.962 7.962 0 014 12H0c0 3.042 1.135 5.824 3 7.938l3-2.647z"})]}),"Отправка..."]}):"Подать заявку (ДЕМО)"}),(0,t.jsx)("a",{href:"/",className:"px-6 py-3 border border-gray-300 text-gray-700 rounded-md hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-blue-500 focus:ring-offset-2 transition-colors text-center",children:"Отмена"})]})]})]})]})}):(0,t.jsx)("div",{className:"min-h-screen flex items-center justify-center",children:(0,t.jsxs)("div",{className:"text-center",children:[(0,t.jsx)("h1",{className:"text-2xl font-bold text-gray-900 mb-4",children:"Продукт не найден"}),(0,t.jsxs)("p",{className:"text-gray-600 mb-4",children:['Продукт "',s,'" не существует']}),(0,t.jsx)("a",{href:"/",className:"text-blue-600 hover:underline",children:"Вернуться на главную"})]})})}}},function(e){e.O(0,[971,23,744],function(){return e(e.s=1561)}),_N_E=e.O()}]);